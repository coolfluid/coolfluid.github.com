<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>COOLFluiD: test/math/utest-lss-distributed-matrix.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="coolfluid.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COOLFluiD
   &#160;<span id="projectnumber">Release  kernel</span>
   </div>
   <div id="projectbrief">COOLFluiD is a Collaborative Simulation Environment (CSE) focused on complex MultiPhysics simulations.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_13e138d54eb8818da29c3992edef070a.html">test</a></li><li class="navelem"><a class="el" href="dir_137818f07b93cd14b6ce92e51caad2df.html">math</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">utest-lss-distributed-matrix.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="utest-lss-distributed-matrix_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright (C) 2010-2013 von Karman Institute for Fluid Dynamics, Belgium</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// This software is distributed under the terms of the</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// GNU Lesser General Public License version 3 (LGPLv3).</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See doc/lgpl.txt and doc/gpl.txt for the license text.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="utest-lss-distributed-matrix_8cpp.html#a139f00d2466d591f60b8d6a73c8273f1">    8</a></span>&#160;<span class="preprocessor">#define BOOST_TEST_DYN_LINK</span></div>
<div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="utest-lss-distributed-matrix_8cpp.html#a6b2a3852db8bb19ab6909bac01859985">    9</a></span>&#160;<span class="preprocessor">#define BOOST_TEST_MODULE &quot;Test module for cf3::math::LSS where testing on a distributed matrix.&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;boost/test/unit_test.hpp&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;boost/lexical_cast.hpp&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_log_8hpp.html">common/Log.hpp</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_comm_8hpp.html">common/PE/Comm.hpp</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_comm_pattern_8hpp.html">common/PE/CommPattern.hpp</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_system_8hpp.html">math/LSS/System.hpp</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utest-lss-test-matrix_8hpp.html">test/math/utest-lss-test-matrix.hpp</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacecf3.html">cf3</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacecf3_1_1math.html">cf3::math</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacecf3_1_1math_1_1_l_s_s.html">cf3::math::LSS</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="struct_l_s_s_distributed_matrix_fixture.html">   32</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_l_s_s_distributed_matrix_fixture.html">LSSDistributedMatrixFixture</a></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="struct_l_s_s_distributed_matrix_fixture.html#aa2e462443d9d128645967b1fc42ab676">   35</a></span>&#160;  <a class="code" href="struct_l_s_s_distributed_matrix_fixture.html#aa2e462443d9d128645967b1fc42ab676">LSSDistributedMatrixFixture</a>()</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    m_argc = boost::unit_test::framework::master_test_suite().argc;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    m_argv = boost::unit_test::framework::master_test_suite().argv;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="struct_l_s_s_distributed_matrix_fixture.html#a0c5f147c5064ad348fc954104ae22224">   42</a></span>&#160;  <a class="code" href="struct_l_s_s_distributed_matrix_fixture.html#a0c5f147c5064ad348fc954104ae22224">~LSSDistributedMatrixFixture</a>()</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_l_s_s_distributed_matrix_fixture.html#aa27f99c1342c57c56f40e748a36a85dd">   47</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_l_s_s_distributed_matrix_fixture.html#aa27f99c1342c57c56f40e748a36a85dd">m_argc</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_l_s_s_distributed_matrix_fixture.html#adc5dce79071b7c640e0bb36285945d3f">   48</a></span>&#160;  <span class="keywordtype">char</span>** <a class="code" href="struct_l_s_s_distributed_matrix_fixture.html#adc5dce79071b7c640e0bb36285945d3f">m_argv</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;};</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;BOOST_FIXTURE_TEST_SUITE( LSSDistributedMatrixSuite, <a class="code" href="struct_l_s_s_distributed_matrix_fixture.html">LSSDistributedMatrixFixture</a> )</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="utest-lss-distributed-matrix_8cpp.html#aa30d73adc3dc112521fa36ac15caa0a3">   57</a></span>&#160;<a class="code" href="utest-lss-distributed-matrix_8cpp.html#aa30d73adc3dc112521fa36ac15caa0a3">BOOST_AUTO_TEST_CASE</a>( init_parallel_environment )</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <a class="code" href="classcf3_1_1common_1_1_p_e_1_1_comm.html#acde39a003bff65c47326f0b0b8610c7e">common::PE::Comm::instance</a>().<a class="code" href="classcf3_1_1common_1_1_p_e_1_1_comm.html#a53ef94b02a0bb939bb725af4f171c6d3">init</a>(m_argc,m_argv);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  BOOST_CHECK_EQUAL(<a class="code" href="classcf3_1_1common_1_1_p_e_1_1_comm.html#acde39a003bff65c47326f0b0b8610c7e">common::PE::Comm::instance</a>().is_active(),<span class="keyword">true</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="_log_8hpp.html#a34b9a5670cb066ae34cfbbd7cf2b0bcb">CFinfo</a>.setFilterRankZero(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="utest-lss-distributed-matrix_8cpp.html#a766acee83f50ca0b22f1e7338b834b92">   66</a></span>&#160;<a class="code" href="utest-lss-distributed-matrix_8cpp.html#aa30d73adc3dc112521fa36ac15caa0a3">BOOST_AUTO_TEST_CASE</a>( system_solve )</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">// test matrix</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="classtest__matrix.html">test_matrix</a> m;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// commpattern</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  boost::shared_ptr&lt;common::PE::CommPattern&gt; cp_ptr = common::allocate_component&lt;common::PE::CommPattern&gt;(<span class="stringliteral">&quot;commpattern&quot;</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="classcf3_1_1common_1_1_p_e_1_1_comm_pattern.html">common::PE::CommPattern</a>&amp; cp = *cp_ptr;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  cp.<a class="code" href="classcf3_1_1common_1_1_p_e_1_1_comm_pattern.html#a140ffde97de87c9e5b249078d1813613">insert</a>(<span class="stringliteral">&quot;gid&quot;</span>,m.<a class="code" href="classtest__matrix.html#a05bc5376b2c05f3ea8061d5d743f262a">global_numbering</a>,1,<span class="keyword">false</span>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  cp.setup(<a class="code" href="classcf3_1_1_handle.html">Handle&lt;common::PE::CommWrapper&gt;</a>(cp.get_child(<span class="stringliteral">&quot;gid&quot;</span>)),m.<a class="code" href="classtest__matrix.html#a195030b39a0b972888159264e245f1d0">irank_updatable</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// system</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  boost::shared_ptr&lt;LSS::System&gt; sys_ptr = common::allocate_component&lt;LSS::System&gt;(<span class="stringliteral">&quot;system&quot;</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="classcf3_1_1math_1_1_l_s_s_1_1_system.html">LSS::System</a>&amp; sys = *sys_ptr;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  sys.<a class="code" href="classcf3_1_1common_1_1_component.html#aed64a865c7c3b3d79b779b23032e1569">options</a>().<a class="code" href="classcf3_1_1common_1_1_option_list.html#a7ceeee509fefec138cf84d3722bbab33">option</a>(<span class="stringliteral">&quot;matrix_builder&quot;</span>).<a class="code" href="classcf3_1_1common_1_1_option.html#a223869114ab441ea5fdbbb0ea9b024a2">change_value</a>(boost::lexical_cast&lt;std::string&gt;(m_argv[1]));</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  sys.create(cp,m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>,m.<a class="code" href="classtest__matrix.html#a360eaeae5b71e559e574e9f276cb449a">column_indices</a>,m.<a class="code" href="classtest__matrix.html#a0dff41e51765a922a5a19afb165bb11d">rowstart_positions</a>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  sys.reset();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// mimicing the assembly for performance measuring</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">    with az_msrmatrix and native written fill, the suminto part takes the following number of ticks in morpheus (for one step):</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">    process | assembly_ticks | matrixfill_ticks | setbc_ticks | solve_ticks</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">    -----------------------------------------------------------------------</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">    0       | 330499         | 239996           | 24888       | 295230350</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">    1       | 337050         | 248826           | 49497       | 306481891</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">    2       | 329032         | 242850           | 37709       | 298537437</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">    3       | 388584         | 280844           | 13722       | 299270122</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html">BlockAccumulator</a> ba;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  ba.<a class="code" href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html#a17c83f51769f2807fd246d14e18ab6d7">resize</a>(3,m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  ba.<a class="code" href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html#a3b0488737b5c0820bba79e9c4a2f3056">reset</a>(1.);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;(<span class="keyword">const</span> int)(m.<a class="code" href="classtest__matrix.html#ae0d9edd5204958dbfca22e47bc6186b1">elem_nodes</a>.size()/3); i++)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    ba.<a class="code" href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html#a80606feacfad0de4d014184f4b71f4d5">indices</a>[0]=m.<a class="code" href="classtest__matrix.html#ae0d9edd5204958dbfca22e47bc6186b1">elem_nodes</a>[3*i+0];</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    ba.<a class="code" href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html#a80606feacfad0de4d014184f4b71f4d5">indices</a>[1]=m.<a class="code" href="classtest__matrix.html#ae0d9edd5204958dbfca22e47bc6186b1">elem_nodes</a>[3*i+1];</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    ba.<a class="code" href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html#a80606feacfad0de4d014184f4b71f4d5">indices</a>[2]=m.<a class="code" href="classtest__matrix.html#ae0d9edd5204958dbfca22e47bc6186b1">elem_nodes</a>[3*i+2];</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    sys.add_values(ba);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;sys.print(<span class="stringliteral">&quot;sys_test_assembly_bc_&quot;</span> + boost::lexical_cast&lt;std::string&gt;(m.<a class="code" href="classtest__matrix.html#a15c61544a4f2aceca628b18d7c6e1c82">irank</a>) + <span class="stringliteral">&quot;.plt&quot;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// fastly filling with pre-boundary condition values, THIS IS NOT THE WAY YOU NORMALLY ASSEMBLE</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  Real* vals=&amp;m.<a class="code" href="classtest__matrix.html#a3769181610be4c4cba321151a5631832">mat_prebc</a>[0];</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  sys.reset();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a05bc5376b2c05f3ea8061d5d743f262a">global_numbering</a>.size(); i++)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (cp.isUpdatable()[i])</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>; j++)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceatest-ufem-heat1d-_p2.html#ab66ed8e0098c0a86b458672a55a9cca9">k</a>=m.<a class="code" href="classtest__matrix.html#a0dff41e51765a922a5a19afb165bb11d">rowstart_positions</a>[i]; <a class="code" href="namespaceatest-ufem-heat1d-_p2.html#ab66ed8e0098c0a86b458672a55a9cca9">k</a>&lt;(<span class="keyword">const</span> <span class="keywordtype">int</span>)(m.<a class="code" href="classtest__matrix.html#a0dff41e51765a922a5a19afb165bb11d">rowstart_positions</a>[i+1]); <a class="code" href="namespaceatest-ufem-heat1d-_p2.html#ab66ed8e0098c0a86b458672a55a9cca9">k</a>++)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceutest-python-component.html#ae444945db5297bdd9e5c43355c9c76a1">l</a>=0; <a class="code" href="namespaceutest-python-component.html#ae444945db5297bdd9e5c43355c9c76a1">l</a>&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>; <a class="code" href="namespaceutest-python-component.html#ae444945db5297bdd9e5c43355c9c76a1">l</a>++)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            sys.matrix()-&gt;set_value(m.<a class="code" href="classtest__matrix.html#a360eaeae5b71e559e574e9f276cb449a">column_indices</a>[<a class="code" href="namespaceatest-ufem-heat1d-_p2.html#ab66ed8e0098c0a86b458672a55a9cca9">k</a>]*m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>+<a class="code" href="namespaceutest-python-component.html#ae444945db5297bdd9e5c43355c9c76a1">l</a>,i*m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>+j,*vals++);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  vals=&amp;m.<a class="code" href="classtest__matrix.html#a1147f33f052b9fa26fb038a3c02767db">rhs_prebc</a>[0];</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a05bc5376b2c05f3ea8061d5d743f262a">global_numbering</a>.size(); i++)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>; j++)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      sys.rhs()-&gt;set_value(i,j,*vals++);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  vals=&amp;m.<a class="code" href="classtest__matrix.html#ab43c35c4cb9904b05ae6e9f4ca929cb4">sol_prebc</a>[0];</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a05bc5376b2c05f3ea8061d5d743f262a">global_numbering</a>.size(); i++)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>; j++)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      sys.solution()-&gt;set_value(i,j,*vals++);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">// applying boundary conditions</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a7f267dbcd973164f28f52fcf8e943d2a">bc_node</a>.size(); i++)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (cp.isUpdatable()[m.<a class="code" href="classtest__matrix.html#a7f267dbcd973164f28f52fcf8e943d2a">bc_node</a>[i]])</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      sys.dirichlet(m.<a class="code" href="classtest__matrix.html#a7f267dbcd973164f28f52fcf8e943d2a">bc_node</a>[i],m.<a class="code" href="classtest__matrix.html#aba52bb62fea2b0b71067c7869085c80b">bc_eqn</a>[i],m.<a class="code" href="classtest__matrix.html#ab460f1f05fa2990cb26fe164783b0048">bc_value</a>[i]);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a5a191a4d9c151b8b8676b3105d37bd7a">periodic_pairs</a>.size(); i+=2)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//    if (cp.isUpdatable()[m.periodic_pairs[i]])</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      sys.periodicity(m.<a class="code" href="classtest__matrix.html#a5a191a4d9c151b8b8676b3105d37bd7a">periodic_pairs</a>[i+0],m.<a class="code" href="classtest__matrix.html#a5a191a4d9c151b8b8676b3105d37bd7a">periodic_pairs</a>[i+1]);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">//sys.print(&quot;sys_prebc_bc_&quot; + boost::lexical_cast&lt;std::string&gt;(m.irank) + &quot;.plt&quot;);</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">//  // filling the system with prescribed values</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">//  sys.reset();</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">//  vals=&amp;m.mat_presolve[0];</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">//  for (int i=0; i&lt;(const int)m.global_numbering.size(); i++)</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">//    if (cp.isUpdatable()[i])</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">//      for (int j=0; j&lt;(const int)m.nbeqs; j++)</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">//        for (int k=m.rowstart_positions[i]; k&lt;(const int)(m.rowstart_positions[i+1]); k++)</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">//          for (int l=0; l&lt;(const int)m.nbeqs; l++)</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">//            sys.matrix()-&gt;set_value(m.column_indices[k]*m.nbeqs+l,i*m.nbeqs+j,*vals++);</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">//  vals=&amp;m.rhs_presolve[0];</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">//  for (int i=0; i&lt;(const int)m.global_numbering.size(); i++)</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">//    for (int j=0; j&lt;(const int)m.nbeqs; j++)</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">//      sys.rhs()-&gt;set_value(i,j,*vals++);</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">//  vals=&amp;m.sol_presolve[0];</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">//  for (int i=0; i&lt;(const int)m.global_numbering.size(); i++)</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">//    for (int j=0; j&lt;(const int)m.nbeqs; j++)</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">//      sys.solution()-&gt;set_value(i,j,*vals++);</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">//sys.print(&quot;sys_orig_&quot; + boost::lexical_cast&lt;std::string&gt;(m.irank) + &quot;.plt&quot;);</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// and solve the system</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  sys.solve();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// check results</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  std::vector&lt;Real&gt; <a class="code" href="namespaceatest-ufem-velocitygradient.html#a70c531c66ddbf75f5f79e522b46a64fd">v</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  sys.solution()-&gt;debug_data(v);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a05bc5376b2c05f3ea8061d5d743f262a">global_numbering</a>.size(); i++)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (cp.isUpdatable()[i])</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>; j++)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        BOOST_CHECK_CLOSE(v[i*m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>+j],m.<a class="code" href="classtest__matrix.html#a6ba393dc0cbec785d9fa75e5b30a3f1a">result</a>[i*m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>+j],1<a class="code" href="namespacecf3_1_1physics_1_1_consts.html#af108c3434d4b81d3c150df9b1d4ba640">e</a>-3);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">//  sys.print(&quot;distributed_system_&quot; + boost::lexical_cast&lt;std::string&gt;(m.irank) + &quot;.plt&quot;);</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// print a test file</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  std::ofstream fres(std::string(<span class="stringliteral">&quot;coords_with_sol_&quot;</span> + boost::lexical_cast&lt;std::string&gt;(m.<a class="code" href="classtest__matrix.html#a15c61544a4f2aceca628b18d7c6e1c82">irank</a>) + <span class="stringliteral">&quot;.plt&quot;</span>).c_str());</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  fres &lt;&lt; <span class="stringliteral">&quot;VARIABLES=\&quot;X\&quot;,\&quot;Y\&quot;,\&quot;V0\&quot;,\&quot;V1\&quot;,\&quot;V2\&quot;\nZONE T=\&quot;Solve results of utest-lss-distributed-matrix.\&quot;&quot;</span> &lt;&lt; std::flush;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  fres.precision(15);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  sys.solution()-&gt;debug_data(v);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;(<span class="keyword">const</span> int)m.<a class="code" href="classtest__matrix.html#a05bc5376b2c05f3ea8061d5d743f262a">global_numbering</a>.size(); i++)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (cp.isUpdatable()[i])</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      fres &lt;&lt; m.<a class="code" href="classtest__matrix.html#a99fde2900d54362dcb4de7a7516cecea">nodal_coordinates</a>[2*i+0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; m.<a class="code" href="classtest__matrix.html#a99fde2900d54362dcb4de7a7516cecea">nodal_coordinates</a>[2*i+1] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; v[m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>*i+0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; v[m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>*i+1] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; v[m.<a class="code" href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">nbeqs</a>*i+2] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; std::flush;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  fres.close();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="utest-lss-distributed-matrix_8cpp.html#abfb7dc4cc16c2a9ce193e11d0ba46d8d">  184</a></span>&#160;<a class="code" href="utest-lss-distributed-matrix_8cpp.html#aa30d73adc3dc112521fa36ac15caa0a3">BOOST_AUTO_TEST_CASE</a>( finalize_parallel_environment )</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="_log_8hpp.html#a34b9a5670cb066ae34cfbbd7cf2b0bcb">CFinfo</a>.setFilterRankZero(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="classcf3_1_1common_1_1_p_e_1_1_comm.html#acde39a003bff65c47326f0b0b8610c7e">common::PE::Comm::instance</a>().<a class="code" href="classcf3_1_1common_1_1_p_e_1_1_comm.html#a32d626626eee0bc4ade146973f6abb1c">finalize</a>();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  BOOST_CHECK_EQUAL(<a class="code" href="classcf3_1_1common_1_1_p_e_1_1_comm.html#acde39a003bff65c47326f0b0b8610c7e">common::PE::Comm::instance</a>().is_active(),<span class="keyword">false</span>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;BOOST_AUTO_TEST_SUITE_END()</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="ttc" id="classtest__matrix_html_a7f267dbcd973164f28f52fcf8e943d2a"><div class="ttname"><a href="classtest__matrix.html#a7f267dbcd973164f28f52fcf8e943d2a">test_matrix::bc_node</a></div><div class="ttdeci">std::vector&lt; cf3::Uint &gt; bc_node</div><div class="ttdoc">local node index of boundaries (without extension by nbeqs sub-matrix) </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00787">utest-lss-test-matrix.hpp:787</a></div></div>
<div class="ttc" id="_log_8hpp_html_a34b9a5670cb066ae34cfbbd7cf2b0bcb"><div class="ttname"><a href="_log_8hpp.html#a34b9a5670cb066ae34cfbbd7cf2b0bcb">CFinfo</a></div><div class="ttdeci">#define CFinfo</div><div class="ttdoc">these are always defined </div><div class="ttdef"><b>Definition:</b> <a href="_log_8hpp_source.html#l00104">Log.hpp:104</a></div></div>
<div class="ttc" id="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator_html_a17c83f51769f2807fd246d14e18ab6d7"><div class="ttname"><a href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html#a17c83f51769f2807fd246d14e18ab6d7">cf3::math::LSS::BlockAccumulator::resize</a></div><div class="ttdeci">void resize(Uint numnodes, Uint numeqs)</div><div class="ttdoc">setting up sizes </div><div class="ttdef"><b>Definition:</b> <a href="math_2_l_s_s_2_block_accumulator_8hpp_source.html#l00032">BlockAccumulator.hpp:32</a></div></div>
<div class="ttc" id="classcf3_1_1_handle_html"><div class="ttname"><a href="classcf3_1_1_handle.html">cf3::Handle</a></div><div class="ttdoc">Safe pointer to an object. This is the supported method for referring to components. </div><div class="ttdef"><b>Definition:</b> <a href="_handle_8hpp_source.html#l00039">Handle.hpp:39</a></div></div>
<div class="ttc" id="_system_8hpp_html"><div class="ttname"><a href="_system_8hpp.html">System.hpp</a></div><div class="ttdoc">This header collects all the headers needed for the linear system solver, also including configure-ti...</div></div>
<div class="ttc" id="classtest__matrix_html_ab460f1f05fa2990cb26fe164783b0048"><div class="ttname"><a href="classtest__matrix.html#ab460f1f05fa2990cb26fe164783b0048">test_matrix::bc_value</a></div><div class="ttdeci">std::vector&lt; cf3::Real &gt; bc_value</div><div class="ttdoc">what value to fix </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00793">utest-lss-test-matrix.hpp:793</a></div></div>
<div class="ttc" id="classtest__matrix_html"><div class="ttname"><a href="classtest__matrix.html">test_matrix</a></div><div class="ttdoc">Holding all the data and the constructor sets everything up, everything is public. </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00728">utest-lss-test-matrix.hpp:728</a></div></div>
<div class="ttc" id="namespacecf3_1_1math_html"><div class="ttname"><a href="namespacecf3_1_1math.html">cf3::math</a></div><div class="ttdoc">Basic Classes for Mathematical applications used by COOLFluiD. </div><div class="ttdef"><b>Definition:</b> <a href="_analytical_function_8cpp_source.html#l00024">AnalyticalFunction.cpp:24</a></div></div>
<div class="ttc" id="_comm_pattern_8hpp_html"><div class="ttname"><a href="_comm_pattern_8hpp.html">CommPattern.hpp</a></div><div class="ttdoc">Parallel Communication Pattern. This class provides functionality to collect communication. For efficiency it works such a way that you submit your request via the constructor or the add/remove/move magic triangle and then call setup to modify the commpattern. The data needed to be kept synchronous can be registered via the insert function. The word node here means any kind of "point of storage", in this context it is not directly related with the computational mesh. </div></div>
<div class="ttc" id="namespaceutest-python-component_html_ae444945db5297bdd9e5c43355c9c76a1"><div class="ttname"><a href="namespaceutest-python-component.html#ae444945db5297bdd9e5c43355c9c76a1">utest-python-component.l</a></div><div class="ttdeci">tuple l</div><div class="ttdef"><b>Definition:</b> <a href="utest-python-component_8py_source.html#l00025">utest-python-component.py:25</a></div></div>
<div class="ttc" id="classtest__matrix_html_a0dff41e51765a922a5a19afb165bb11d"><div class="ttname"><a href="classtest__matrix.html#a0dff41e51765a922a5a19afb165bb11d">test_matrix::rowstart_positions</a></div><div class="ttdeci">std::vector&lt; cf3::Uint &gt; rowstart_positions</div><div class="ttdoc">connectivity structure, CSR-style (without extension by nbeqs sub-matrix) </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00748">utest-lss-test-matrix.hpp:748</a></div></div>
<div class="ttc" id="classcf3_1_1common_1_1_p_e_1_1_comm_pattern_html"><div class="ttname"><a href="classcf3_1_1common_1_1_p_e_1_1_comm_pattern.html">cf3::common::PE::CommPattern</a></div><div class="ttdef"><b>Definition:</b> <a href="_comm_pattern_8hpp_source.html#l00041">CommPattern.hpp:41</a></div></div>
<div class="ttc" id="classtest__matrix_html_a05bc5376b2c05f3ea8061d5d743f262a"><div class="ttname"><a href="classtest__matrix.html#a05bc5376b2c05f3ea8061d5d743f262a">test_matrix::global_numbering</a></div><div class="ttdeci">std::vector&lt; cf3::Uint &gt; global_numbering</div><div class="ttdoc">global numbering of the nodes (without extension by nbeqs sub-matrix) </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00751">utest-lss-test-matrix.hpp:751</a></div></div>
<div class="ttc" id="classcf3_1_1common_1_1_p_e_1_1_comm_pattern_html_a140ffde97de87c9e5b249078d1813613"><div class="ttname"><a href="classcf3_1_1common_1_1_p_e_1_1_comm_pattern.html#a140ffde97de87c9e5b249078d1813613">cf3::common::PE::CommPattern::insert</a></div><div class="ttdeci">void insert(const std::string &amp;name, T *&amp;data, const int size, const unsigned int stride=1, const bool needs_update=true)</div><div class="ttdef"><b>Definition:</b> <a href="_comm_pattern_8hpp_source.html#l00139">CommPattern.hpp:139</a></div></div>
<div class="ttc" id="struct_l_s_s_distributed_matrix_fixture_html"><div class="ttname"><a href="struct_l_s_s_distributed_matrix_fixture.html">LSSDistributedMatrixFixture</a></div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-distributed-matrix_8cpp_source.html#l00032">utest-lss-distributed-matrix.cpp:32</a></div></div>
<div class="ttc" id="namespacecf3_1_1physics_1_1_consts_html_af108c3434d4b81d3c150df9b1d4ba640"><div class="ttname"><a href="namespacecf3_1_1physics_1_1_consts.html#af108c3434d4b81d3c150df9b1d4ba640">cf3::physics::Consts::e</a></div><div class="ttdeci">Real e()</div><div class="ttdoc">Definition of the Unit charge [C]. </div><div class="ttdef"><b>Definition:</b> <a href="physics_2_consts_8hpp_source.html#l00030">Consts.hpp:30</a></div></div>
<div class="ttc" id="struct_l_s_s_distributed_matrix_fixture_html_aa2e462443d9d128645967b1fc42ab676"><div class="ttname"><a href="struct_l_s_s_distributed_matrix_fixture.html#aa2e462443d9d128645967b1fc42ab676">LSSDistributedMatrixFixture::LSSDistributedMatrixFixture</a></div><div class="ttdeci">LSSDistributedMatrixFixture()</div><div class="ttdoc">common setup for each test case </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-distributed-matrix_8cpp_source.html#l00035">utest-lss-distributed-matrix.cpp:35</a></div></div>
<div class="ttc" id="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator_html_a80606feacfad0de4d014184f4b71f4d5"><div class="ttname"><a href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html#a80606feacfad0de4d014184f4b71f4d5">cf3::math::LSS::BlockAccumulator::indices</a></div><div class="ttdeci">std::vector&lt; Uint &gt; indices</div><div class="ttdoc">local numbering of the unknowns </div><div class="ttdef"><b>Definition:</b> <a href="math_2_l_s_s_2_block_accumulator_8hpp_source.html#l00074">BlockAccumulator.hpp:74</a></div></div>
<div class="ttc" id="classcf3_1_1common_1_1_p_e_1_1_comm_html_a32d626626eee0bc4ade146973f6abb1c"><div class="ttname"><a href="classcf3_1_1common_1_1_p_e_1_1_comm.html#a32d626626eee0bc4ade146973f6abb1c">cf3::common::PE::Comm::finalize</a></div><div class="ttdeci">void finalize()</div><div class="ttdef"><b>Definition:</b> <a href="_comm_8cpp_source.html#l00096">Comm.cpp:96</a></div></div>
<div class="ttc" id="classcf3_1_1common_1_1_option_html_a223869114ab441ea5fdbbb0ea9b024a2"><div class="ttname"><a href="classcf3_1_1common_1_1_option.html#a223869114ab441ea5fdbbb0ea9b024a2">cf3::common::Option::change_value</a></div><div class="ttdeci">virtual void change_value(const boost::any &amp;value)</div><div class="ttdoc">change the value of this option </div><div class="ttdef"><b>Definition:</b> <a href="_option_8cpp_source.html#l00089">Option.cpp:89</a></div></div>
<div class="ttc" id="classtest__matrix_html_a360eaeae5b71e559e574e9f276cb449a"><div class="ttname"><a href="classtest__matrix.html#a360eaeae5b71e559e574e9f276cb449a">test_matrix::column_indices</a></div><div class="ttdeci">std::vector&lt; cf3::Uint &gt; column_indices</div><div class="ttdoc">connectivity structure, CSR-style (without extension by nbeqs sub-matrix) </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00745">utest-lss-test-matrix.hpp:745</a></div></div>
<div class="ttc" id="utest-lss-test-matrix_8hpp_html"><div class="ttname"><a href="utest-lss-test-matrix_8hpp.html">utest-lss-test-matrix.hpp</a></div></div>
<div class="ttc" id="classtest__matrix_html_a3769181610be4c4cba321151a5631832"><div class="ttname"><a href="classtest__matrix.html#a3769181610be4c4cba321151a5631832">test_matrix::mat_prebc</a></div><div class="ttdeci">std::vector&lt; cf3::Real &gt; mat_prebc</div><div class="ttdoc">matrix before applying boundary conditions </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00757">utest-lss-test-matrix.hpp:757</a></div></div>
<div class="ttc" id="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator_html"><div class="ttname"><a href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html">cf3::math::LSS::BlockAccumulator</a></div><div class="ttdef"><b>Definition:</b> <a href="math_2_l_s_s_2_block_accumulator_8hpp_source.html#l00028">BlockAccumulator.hpp:28</a></div></div>
<div class="ttc" id="utest-lss-distributed-matrix_8cpp_html_aa30d73adc3dc112521fa36ac15caa0a3"><div class="ttname"><a href="utest-lss-distributed-matrix_8cpp.html#aa30d73adc3dc112521fa36ac15caa0a3">BOOST_AUTO_TEST_CASE</a></div><div class="ttdeci">BOOST_AUTO_TEST_CASE(init_parallel_environment)</div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-distributed-matrix_8cpp_source.html#l00057">utest-lss-distributed-matrix.cpp:57</a></div></div>
<div class="ttc" id="classcf3_1_1common_1_1_p_e_1_1_comm_html_a53ef94b02a0bb939bb725af4f171c6d3"><div class="ttname"><a href="classcf3_1_1common_1_1_p_e_1_1_comm.html#a53ef94b02a0bb939bb725af4f171c6d3">cf3::common::PE::Comm::init</a></div><div class="ttdeci">void init(int argc=0, char **args=0)</div><div class="ttdef"><b>Definition:</b> <a href="_comm_8cpp_source.html#l00080">Comm.cpp:80</a></div></div>
<div class="ttc" id="namespacecf3_html"><div class="ttname"><a href="namespacecf3.html">cf3</a></div><div class="ttdoc">Top-level namespace for coolfluid. </div><div class="ttdef"><b>Definition:</b> <a href="common_2_action_8cpp_source.html#l00018">Action.cpp:18</a></div></div>
<div class="ttc" id="classtest__matrix_html_a195030b39a0b972888159264e245f1d0"><div class="ttname"><a href="classtest__matrix.html#a195030b39a0b972888159264e245f1d0">test_matrix::irank_updatable</a></div><div class="ttdeci">std::vector&lt; cf3::Uint &gt; irank_updatable</div><div class="ttdoc">rank where the node is updatable (without extension by nbeqs sub-matrix) </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00754">utest-lss-test-matrix.hpp:754</a></div></div>
<div class="ttc" id="classtest__matrix_html_ab43c35c4cb9904b05ae6e9f4ca929cb4"><div class="ttname"><a href="classtest__matrix.html#ab43c35c4cb9904b05ae6e9f4ca929cb4">test_matrix::sol_prebc</a></div><div class="ttdeci">std::vector&lt; cf3::Real &gt; sol_prebc</div><div class="ttdoc">solution before applying boundary conditions </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00763">utest-lss-test-matrix.hpp:763</a></div></div>
<div class="ttc" id="namespacecf3_1_1math_1_1_l_s_s_html"><div class="ttname"><a href="namespacecf3_1_1math_1_1_l_s_s.html">cf3::math::LSS</a></div><div class="ttdef"><b>Definition:</b> <a href="math_2_l_s_s_2_block_accumulator_8hpp_source.html#l00024">BlockAccumulator.hpp:24</a></div></div>
<div class="ttc" id="struct_l_s_s_distributed_matrix_fixture_html_adc5dce79071b7c640e0bb36285945d3f"><div class="ttname"><a href="struct_l_s_s_distributed_matrix_fixture.html#adc5dce79071b7c640e0bb36285945d3f">LSSDistributedMatrixFixture::m_argv</a></div><div class="ttdeci">char ** m_argv</div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-distributed-matrix_8cpp_source.html#l00048">utest-lss-distributed-matrix.cpp:48</a></div></div>
<div class="ttc" id="classtest__matrix_html_a6ba393dc0cbec785d9fa75e5b30a3f1a"><div class="ttname"><a href="classtest__matrix.html#a6ba393dc0cbec785d9fa75e5b30a3f1a">test_matrix::result</a></div><div class="ttdeci">std::vector&lt; cf3::Real &gt; result</div><div class="ttdoc">reference result after solving the system </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00775">utest-lss-test-matrix.hpp:775</a></div></div>
<div class="ttc" id="classcf3_1_1math_1_1_l_s_s_1_1_system_html"><div class="ttname"><a href="classcf3_1_1math_1_1_l_s_s_1_1_system.html">cf3::math::LSS::System</a></div><div class="ttdef"><b>Definition:</b> <a href="_system_8hpp_source.html#l00059">System.hpp:59</a></div></div>
<div class="ttc" id="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator_html_a3b0488737b5c0820bba79e9c4a2f3056"><div class="ttname"><a href="classcf3_1_1math_1_1_l_s_s_1_1_block_accumulator.html#a3b0488737b5c0820bba79e9c4a2f3056">cf3::math::LSS::BlockAccumulator::reset</a></div><div class="ttdeci">void reset(Real reset_to=0.)</div><div class="ttdoc">reset the values to the value of reset_to </div><div class="ttdef"><b>Definition:</b> <a href="math_2_l_s_s_2_block_accumulator_8hpp_source.html#l00042">BlockAccumulator.hpp:42</a></div></div>
<div class="ttc" id="classtest__matrix_html_a1147f33f052b9fa26fb038a3c02767db"><div class="ttname"><a href="classtest__matrix.html#a1147f33f052b9fa26fb038a3c02767db">test_matrix::rhs_prebc</a></div><div class="ttdeci">std::vector&lt; cf3::Real &gt; rhs_prebc</div><div class="ttdoc">right hand side before applying boundary conditions </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00760">utest-lss-test-matrix.hpp:760</a></div></div>
<div class="ttc" id="classtest__matrix_html_a3764a7806819ac923c6a14c0fe28676c"><div class="ttname"><a href="classtest__matrix.html#a3764a7806819ac923c6a14c0fe28676c">test_matrix::nbeqs</a></div><div class="ttdeci">cf3::Uint nbeqs</div><div class="ttdoc">number of equations </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00742">utest-lss-test-matrix.hpp:742</a></div></div>
<div class="ttc" id="_log_8hpp_html"><div class="ttname"><a href="_log_8hpp.html">Log.hpp</a></div></div>
<div class="ttc" id="struct_l_s_s_distributed_matrix_fixture_html_aa27f99c1342c57c56f40e748a36a85dd"><div class="ttname"><a href="struct_l_s_s_distributed_matrix_fixture.html#aa27f99c1342c57c56f40e748a36a85dd">LSSDistributedMatrixFixture::m_argc</a></div><div class="ttdeci">int m_argc</div><div class="ttdoc">common params </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-distributed-matrix_8cpp_source.html#l00047">utest-lss-distributed-matrix.cpp:47</a></div></div>
<div class="ttc" id="namespaceatest-ufem-velocitygradient_html_a70c531c66ddbf75f5f79e522b46a64fd"><div class="ttname"><a href="namespaceatest-ufem-velocitygradient.html#a70c531c66ddbf75f5f79e522b46a64fd">atest-ufem-velocitygradient.v</a></div><div class="ttdeci">list v</div><div class="ttdef"><b>Definition:</b> <a href="atest-ufem-velocitygradient_8py_source.html#l00035">atest-ufem-velocitygradient.py:35</a></div></div>
<div class="ttc" id="namespaceatest-ufem-heat1d-_p2_html_ab66ed8e0098c0a86b458672a55a9cca9"><div class="ttname"><a href="namespaceatest-ufem-heat1d-_p2.html#ab66ed8e0098c0a86b458672a55a9cca9">atest-ufem-heat1d-P2.k</a></div><div class="ttdeci">int k</div><div class="ttdef"><b>Definition:</b> <a href="atest-ufem-heat1d-_p2_8py_source.html#l00018">atest-ufem-heat1d-P2.py:18</a></div></div>
<div class="ttc" id="classtest__matrix_html_a5a191a4d9c151b8b8676b3105d37bd7a"><div class="ttname"><a href="classtest__matrix.html#a5a191a4d9c151b8b8676b3105d37bd7a">test_matrix::periodic_pairs</a></div><div class="ttdeci">std::vector&lt; cf3::Uint &gt; periodic_pairs</div><div class="ttdoc">pairs of periodic local node indices (obviously, size of vector is twice of number of periodic pairs)...</div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00784">utest-lss-test-matrix.hpp:784</a></div></div>
<div class="ttc" id="struct_l_s_s_distributed_matrix_fixture_html_a0c5f147c5064ad348fc954104ae22224"><div class="ttname"><a href="struct_l_s_s_distributed_matrix_fixture.html#a0c5f147c5064ad348fc954104ae22224">LSSDistributedMatrixFixture::~LSSDistributedMatrixFixture</a></div><div class="ttdeci">~LSSDistributedMatrixFixture()</div><div class="ttdoc">common tear-down for each test case </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-distributed-matrix_8cpp_source.html#l00042">utest-lss-distributed-matrix.cpp:42</a></div></div>
<div class="ttc" id="classtest__matrix_html_a99fde2900d54362dcb4de7a7516cecea"><div class="ttname"><a href="classtest__matrix.html#a99fde2900d54362dcb4de7a7516cecea">test_matrix::nodal_coordinates</a></div><div class="ttdeci">std::vector&lt; cf3::Real &gt; nodal_coordinates</div><div class="ttdoc">node coordinates for visualization </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00781">utest-lss-test-matrix.hpp:781</a></div></div>
<div class="ttc" id="classcf3_1_1common_1_1_component_html_aed64a865c7c3b3d79b779b23032e1569"><div class="ttname"><a href="classcf3_1_1common_1_1_component.html#aed64a865c7c3b3d79b779b23032e1569">cf3::common::Component::options</a></div><div class="ttdeci">OptionList &amp; options()</div><div class="ttdef"><b>Definition:</b> <a href="_component_8cpp_source.html#l00856">Component.cpp:856</a></div></div>
<div class="ttc" id="classtest__matrix_html_aba52bb62fea2b0b71067c7869085c80b"><div class="ttname"><a href="classtest__matrix.html#aba52bb62fea2b0b71067c7869085c80b">test_matrix::bc_eqn</a></div><div class="ttdeci">std::vector&lt; cf3::Uint &gt; bc_eqn</div><div class="ttdoc">which equation to apply the dirichlet bc to (within nbeqs) </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00790">utest-lss-test-matrix.hpp:790</a></div></div>
<div class="ttc" id="classtest__matrix_html_a15c61544a4f2aceca628b18d7c6e1c82"><div class="ttname"><a href="classtest__matrix.html#a15c61544a4f2aceca628b18d7c6e1c82">test_matrix::irank</a></div><div class="ttdeci">cf3::Uint irank</div><div class="ttdoc">rank of current process </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00739">utest-lss-test-matrix.hpp:739</a></div></div>
<div class="ttc" id="classtest__matrix_html_ae0d9edd5204958dbfca22e47bc6186b1"><div class="ttname"><a href="classtest__matrix.html#ae0d9edd5204958dbfca22e47bc6186b1">test_matrix::elem_nodes</a></div><div class="ttdeci">std::vector&lt; cf3::Uint &gt; elem_nodes</div><div class="ttdoc">node ids of the elements, for mimicing the assembly </div><div class="ttdef"><b>Definition:</b> <a href="utest-lss-test-matrix_8hpp_source.html#l00778">utest-lss-test-matrix.hpp:778</a></div></div>
<div class="ttc" id="classcf3_1_1common_1_1_p_e_1_1_comm_html_acde39a003bff65c47326f0b0b8610c7e"><div class="ttname"><a href="classcf3_1_1common_1_1_p_e_1_1_comm.html#acde39a003bff65c47326f0b0b8610c7e">cf3::common::PE::Comm::instance</a></div><div class="ttdeci">static Comm &amp; instance()</div><div class="ttdoc">Return a reference to the current PE. </div><div class="ttdef"><b>Definition:</b> <a href="_comm_8cpp_source.html#l00044">Comm.cpp:44</a></div></div>
<div class="ttc" id="classcf3_1_1common_1_1_option_list_html_a7ceeee509fefec138cf84d3722bbab33"><div class="ttname"><a href="classcf3_1_1common_1_1_option_list.html#a7ceeee509fefec138cf84d3722bbab33">cf3::common::OptionList::option</a></div><div class="ttdeci">const Option &amp; option(const std::string &amp;pname) const </div><div class="ttdoc">get a constant option from the list </div><div class="ttdef"><b>Definition:</b> <a href="_option_list_8cpp_source.html#l00052">OptionList.cpp:52</a></div></div>
<div class="ttc" id="_comm_8hpp_html"><div class="ttname"><a href="_comm_8hpp.html">Comm.hpp</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 14 2015 21:20:16 for COOLFluiD by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1</small></address>
<table width="100%">
  <tr>
    <td>
    </td>
    <td align="right" valign="center">
      Send comments to:<br>
      <a href="mailto:coolfluid@vki.ac.be">COOLFluiD Web Admin</a>
    </td>
  </tr>
</table>
</body>
</html>
