<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>COOLFluiD: TCPConnection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="coolfluid.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COOLFluiD
   &#160;<span id="projectnumber">Release  kernel</span>
   </div>
   <div id="projectbrief">COOLFluiD is a Collaborative Simulation Environment (CSE) focused on complex MultiPhysics simulations.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecf3.html">cf3</a></li><li class="navelem"><a class="el" href="namespacecf3_1_1ui.html">ui</a></li><li class="navelem"><a class="el" href="namespacecf3_1_1ui_1_1network.html">network</a></li><li class="navelem"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html">TCPConnection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TCPConnection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages a TCP/IP connection between two entities where one is a server and the other one is a client.  
 <a href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>&gt;</code></p>

<p>Inherits enable_shared_from_this&lt; TCPConnection &gt;.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:af149b6cb1c1c79426ff02e8724fab833"><td class="memItemLeft" align="right" valign="top">typedef boost::shared_ptr&lt; <a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html">TCPConnection</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#af149b6cb1c1c79426ff02e8724fab833">Ptr</a></td></tr>
<tr class="separator:af149b6cb1c1c79426ff02e8724fab833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf484818fbf75b79e9754cb75c227fc"><td class="memItemLeft" align="right" valign="top">typedef boost::shared_ptr&lt; <a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html">TCPConnection</a> const  &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a4bf484818fbf75b79e9754cb75c227fc">ConstPtr</a></td></tr>
<tr class="separator:a4bf484818fbf75b79e9754cb75c227fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a782c057ba779be7e8c580db462ebe7be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a782c057ba779be7e8c580db462ebe7be">~TCPConnection</a> ()</td></tr>
<tr class="memdesc:a782c057ba779be7e8c580db462ebe7be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Cleanly closes the socket.  <a href="#a782c057ba779be7e8c580db462ebe7be">More...</a><br /></td></tr>
<tr class="separator:a782c057ba779be7e8c580db462ebe7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa198adbcd22fdaf267361584158e461b"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::tcp::socket &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#aa198adbcd22fdaf267361584158e461b">socket</a> ()</td></tr>
<tr class="memdesc:aa198adbcd22fdaf267361584158e461b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives a reference to the internal socket.  <a href="#aa198adbcd22fdaf267361584158e461b">More...</a><br /></td></tr>
<tr class="separator:aa198adbcd22fdaf267361584158e461b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab84b3d013de1b2538476c95d34f36e9c"><td class="memItemLeft" align="right" valign="top">const boost::asio::ip::tcp::socket &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#ab84b3d013de1b2538476c95d34f36e9c">socket</a> () const </td></tr>
<tr class="memdesc:ab84b3d013de1b2538476c95d34f36e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives a constant referemce to the internal socket.  <a href="#ab84b3d013de1b2538476c95d34f36e9c">More...</a><br /></td></tr>
<tr class="separator:ab84b3d013de1b2538476c95d34f36e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b8b48d137a0d5768c5860593e2e48a3"><td class="memTemplParams" colspan="2">template&lt;typename HANDLER &gt; </td></tr>
<tr class="memitem:a8b8b48d137a0d5768c5860593e2e48a3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a8b8b48d137a0d5768c5860593e2e48a3">send</a> (<a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">cf3::common::XML::SignalFrame</a> &amp;args, HANDLER callback_function)</td></tr>
<tr class="memdesc:a8b8b48d137a0d5768c5860593e2e48a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message to the remote entity. The message is sent asynchronously and the function returns directly, before the data is actually send. Once the sending is finished, the <code>callback_function</code> is called with error code.  <a href="#a8b8b48d137a0d5768c5860593e2e48a3">More...</a><br /></td></tr>
<tr class="separator:a8b8b48d137a0d5768c5860593e2e48a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a84320ea4486ebfb341fabf45202055"><td class="memTemplParams" colspan="2">template&lt;typename HANDLER &gt; </td></tr>
<tr class="memitem:a4a84320ea4486ebfb341fabf45202055"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a4a84320ea4486ebfb341fabf45202055">read</a> (<a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">cf3::common::XML::SignalFrame</a> &amp;args, HANDLER callback_function)</td></tr>
<tr class="memdesc:a4a84320ea4486ebfb341fabf45202055"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates an asynchronous reading from the remote entity. The function returns directly.  <a href="#a4a84320ea4486ebfb341fabf45202055">More...</a><br /></td></tr>
<tr class="separator:a4a84320ea4486ebfb341fabf45202055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a960705de531a20389fb29928d43258c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a960705de531a20389fb29928d43258c3">disconnect</a> ()</td></tr>
<tr class="memdesc:a960705de531a20389fb29928d43258c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects the socket from the remote entity.  <a href="#a960705de531a20389fb29928d43258c3">More...</a><br /></td></tr>
<tr class="separator:a960705de531a20389fb29928d43258c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eba48f2059a142bce8d979edd60cf46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a1eba48f2059a142bce8d979edd60cf46">set_error_handler</a> (boost::weak_ptr&lt; <a class="el" href="classcf3_1_1ui_1_1network_1_1_error_handler.html">ErrorHandler</a> &gt; handler)</td></tr>
<tr class="separator:a1eba48f2059a142bce8d979edd60cf46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:acb34cfccd5ffcfee142ced26807dc551"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#af149b6cb1c1c79426ff02e8724fab833">Ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#acb34cfccd5ffcfee142ced26807dc551">create</a> (boost::asio::io_service &amp;ios)</td></tr>
<tr class="memdesc:acb34cfccd5ffcfee142ced26807dc551"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <code><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html" title="Manages a TCP/IP connection between two entities where one is a server and the other one is a client...">TCPConnection</a></code> instance.  <a href="#acb34cfccd5ffcfee142ced26807dc551">More...</a><br /></td></tr>
<tr class="separator:acb34cfccd5ffcfee142ced26807dc551"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a26fcf1e7f9cc14c41c5a63f8be9e5631"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a1cfd0ca26c2f65e0ff03ae8df9eaf55c">HEADER_LENGTH</a> = 8
 }</td></tr>
<tr class="memdesc:a26fcf1e7f9cc14c41c5a63f8be9e5631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nameless enum for header length.  <a href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a26fcf1e7f9cc14c41c5a63f8be9e5631">More...</a><br /></td></tr>
<tr class="separator:a26fcf1e7f9cc14c41c5a63f8be9e5631"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad2b431a0ec5b0460657312eea0631227"><td class="memTemplParams" colspan="2">template&lt;typename HANDLER &gt; </td></tr>
<tr class="memitem:ad2b431a0ec5b0460657312eea0631227"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#ad2b431a0ec5b0460657312eea0631227">callback_header_read</a> (<a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">cf3::common::XML::SignalFrame</a> &amp;args, const boost::system::error_code &amp;error, boost::tuple&lt; HANDLER &gt; functions)</td></tr>
<tr class="memdesc:ad2b431a0ec5b0460657312eea0631227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function called when a frame header has been read, successfully or not. This function allocates the frame data buffer depending on the header received. If reading has failed or header is not valid, the callback function is called with appropriate error code.  <a href="#ad2b431a0ec5b0460657312eea0631227">More...</a><br /></td></tr>
<tr class="separator:ad2b431a0ec5b0460657312eea0631227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ead9eea230fe37189d50a05d96f2ad"><td class="memTemplParams" colspan="2">template&lt;typename HANDLER &gt; </td></tr>
<tr class="memitem:ae7ead9eea230fe37189d50a05d96f2ad"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#ae7ead9eea230fe37189d50a05d96f2ad">callback_data_read</a> (<a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">common::XML::SignalFrame</a> &amp;args, const boost::system::error_code &amp;error, boost::tuple&lt; HANDLER &gt; functions)</td></tr>
<tr class="memdesc:ae7ead9eea230fe37189d50a05d96f2ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function called when the frame data has been read.  <a href="#ae7ead9eea230fe37189d50a05d96f2ad">More...</a><br /></td></tr>
<tr class="separator:ae7ead9eea230fe37189d50a05d96f2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b69e73d1d03be17caf1b15cb2c25ad2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a2b69e73d1d03be17caf1b15cb2c25ad2">TCPConnection</a> (boost::asio::io_service &amp;io_service)</td></tr>
<tr class="memdesc:a2b69e73d1d03be17caf1b15cb2c25ad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a2b69e73d1d03be17caf1b15cb2c25ad2">More...</a><br /></td></tr>
<tr class="separator:a2b69e73d1d03be17caf1b15cb2c25ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea22a5dc551d623eba5dc29f2af7ffc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#acea22a5dc551d623eba5dc29f2af7ffc">prepare_write_buffers</a> (<a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">common::XML::SignalFrame</a> &amp;args, std::vector&lt; boost::asio::const_buffer &gt; &amp;buffers)</td></tr>
<tr class="memdesc:acea22a5dc551d623eba5dc29f2af7ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds the data to be sent on the network.  <a href="#acea22a5dc551d623eba5dc29f2af7ffc">More...</a><br /></td></tr>
<tr class="separator:acea22a5dc551d623eba5dc29f2af7ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c20c39aa0d0e7b1595340780c77ec0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#ae0c20c39aa0d0e7b1595340780c77ec0">process_header</a> (boost::system::error_code &amp;error)</td></tr>
<tr class="memdesc:ae0c20c39aa0d0e7b1595340780c77ec0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a frame header. Tries to cast the header to an <code>unsigned</code> <code>int</code>. On success, allocates the data buffer to this size.  <a href="#ae0c20c39aa0d0e7b1595340780c77ec0">More...</a><br /></td></tr>
<tr class="separator:ae0c20c39aa0d0e7b1595340780c77ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d82151838e2126cb522036fb3e709cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a2d82151838e2126cb522036fb3e709cc">parse_frame_data</a> (<a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">common::XML::SignalFrame</a> &amp;args, boost::system::error_code &amp;error)</td></tr>
<tr class="memdesc:a2d82151838e2126cb522036fb3e709cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses frame data from string to XML.  <a href="#a2d82151838e2126cb522036fb3e709cc">More...</a><br /></td></tr>
<tr class="separator:a2d82151838e2126cb522036fb3e709cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ec236b0563cbbbbdb4af2ff3cab0be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#ab4ec236b0563cbbbbdb4af2ff3cab0be">notify_error</a> (const std::string &amp;message) const </td></tr>
<tr class="memdesc:ab4ec236b0563cbbbbdb4af2ff3cab0be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies an error if an error handler has been set.  <a href="#ab4ec236b0563cbbbbdb4af2ff3cab0be">More...</a><br /></td></tr>
<tr class="separator:ab4ec236b0563cbbbbdb4af2ff3cab0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a249a3b227d7031fef30043778eb64f78"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::tcp::socket&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a249a3b227d7031fef30043778eb64f78">m_socket</a></td></tr>
<tr class="memdesc:a249a3b227d7031fef30043778eb64f78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Network socket.  <a href="#a249a3b227d7031fef30043778eb64f78">More...</a><br /></td></tr>
<tr class="separator:a249a3b227d7031fef30043778eb64f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a128754515c459685c4cf66b5f8390162"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a128754515c459685c4cf66b5f8390162">m_outgoing_data</a></td></tr>
<tr class="memdesc:a128754515c459685c4cf66b5f8390162"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for outgoing data.  <a href="#a128754515c459685c4cf66b5f8390162">More...</a><br /></td></tr>
<tr class="separator:a128754515c459685c4cf66b5f8390162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f671296929fff0410ce50180e310aef"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a6f671296929fff0410ce50180e310aef">m_outgoing_header</a></td></tr>
<tr class="memdesc:a6f671296929fff0410ce50180e310aef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for outgoing header.  <a href="#a6f671296929fff0410ce50180e310aef">More...</a><br /></td></tr>
<tr class="separator:a6f671296929fff0410ce50180e310aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c22b8b04e1de890aebadd99ae5199d6"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a6c22b8b04e1de890aebadd99ae5199d6">m_incoming_header</a> [<a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a1cfd0ca26c2f65e0ff03ae8df9eaf55c">HEADER_LENGTH</a>]</td></tr>
<tr class="memdesc:a6c22b8b04e1de890aebadd99ae5199d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer the receiving header.  <a href="#a6c22b8b04e1de890aebadd99ae5199d6">More...</a><br /></td></tr>
<tr class="separator:a6c22b8b04e1de890aebadd99ae5199d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5a338f5042bf59595bca0b2342f4e97"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#aa5a338f5042bf59595bca0b2342f4e97">m_incoming_data_size</a></td></tr>
<tr class="memdesc:aa5a338f5042bf59595bca0b2342f4e97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the receiving buffer.  <a href="#aa5a338f5042bf59595bca0b2342f4e97">More...</a><br /></td></tr>
<tr class="separator:aa5a338f5042bf59595bca0b2342f4e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ced33a38f7a252dcb2cf37b39b2134"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a52ced33a38f7a252dcb2cf37b39b2134">m_incoming_data</a></td></tr>
<tr class="separator:a52ced33a38f7a252dcb2cf37b39b2134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd9951e591c9ef79bbeccec368d34d35"><td class="memItemLeft" align="right" valign="top">boost::weak_ptr&lt; <a class="el" href="classcf3_1_1ui_1_1network_1_1_error_handler.html">ErrorHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#abd9951e591c9ef79bbeccec368d34d35">m_error_handler</a></td></tr>
<tr class="memdesc:abd9951e591c9ef79bbeccec368d34d35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Weak pointer to the error handler.  <a href="#abd9951e591c9ef79bbeccec368d34d35">More...</a><br /></td></tr>
<tr class="separator:abd9951e591c9ef79bbeccec368d34d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages a TCP/IP connection between two entities where one is a server and the other one is a client. </p>
<p>This class is intented to be used in an asynchronous network architecture. Therefore, a <code>Connection</code> object cannot live outside of a shared pointer because a such object has to maintain asynchronous operations. One cannot predict when all of those operations will be completed; using a shared pointer garantees the connection stays alive until all operations are done. Use static function <code><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#acb34cfccd5ffcfee142ced26807dc551" title="Creates a TCPConnection instance. ">create()</a></code> to create a <code>Connection</code> object. <br />
<br />
 A TCP/IP connection is based on an I/O service that handles the asynchronous operations and calls an appropriate function when one of those is completed. <br />
<br />
 Frames handled by this class have two main parts: </p><ul>
<li>A size-fixed header (8 bytes): contains the size in bytes of the frame data. </li>
<li>Frame data: actual data that is sent, in XML format.<br />
<br />
 The header is completely tansparent to the calling code and is used as a safeguard to check that all data has arrived and allocate the correct buffer for the reading process. <br />
<br />
 This class can be used in both client and server applications. However, an additional step is needed on the server-side: open a network connection and start accepting new clients connections. <br />
<br />
 Most interesting method provided by this class are obviously <code><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a4a84320ea4486ebfb341fabf45202055" title="Initiates an asynchronous reading from the remote entity. The function returns directly. ">read()</a></code> and <code><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a8b8b48d137a0d5768c5860593e2e48a3" title="Sends a message to the remote entity. The message is sent asynchronously and the function returns dir...">send()</a></code>. Both take the same parameters: </li>
<li>a non-const reference to a <a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html"><code>SignalFrame</code> </a> object. <code><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a4a84320ea4486ebfb341fabf45202055" title="Initiates an asynchronous reading from the remote entity. The function returns directly. ">read()</a></code> uses it as a buffer to which read data will be written. For <code><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a8b8b48d137a0d5768c5860593e2e48a3" title="Sends a message to the remote entity. The message is sent asynchronously and the function returns dir...">send()</a></code>, it contains the data to send (the reference is non-const because <a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html#a96f3b5b55c445f3a3e4bd559ef45e0d2"><code>SignalFrame::flush_maps()</code> </a> is called before converting the XML to string). </li>
<li>the callback function which will be called when asynchronous operations finishes (on succes or failure). <br />
<br />
 The callback function can be created using <code>Boost.Bind</code>. Developers are free on the choice of the paramaters to give to this callback function, but have to handle those parameters by themselves. However, both <code>read</code> and <code>send</code> methods require one placeholder of type <code>boost::system::error_code</code> to store the error code. The placeholder value is given by the network layer. Examples: </li>
<li>call <code>read</code> with a callback function that only takes the error code: <div class="fragment"><div class="line">connection-&gt;read( m_read_buffer, <span class="comment">// SignalFrame object. Has to live until the end of the read!</span></div>
<div class="line">                  boost::bind( &amp;MyClass::callback_read, <span class="comment">// pointer to callback function</span></div>
<div class="line">                               <span class="keyword">this</span>,                    <span class="comment">// object on which to call the function</span></div>
<div class="line">                               boost::asio::placeholders::error ) <span class="comment">// placeholder for error code</span></div>
<div class="line">                );</div>
<div class="line"></div>
<div class="line"><span class="comment">// definition of the callback function</span></div>
<div class="line"><span class="keywordtype">void</span> MyClass::callback_read( <span class="keyword">const</span> boost::system::error_code error )</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> ( error )</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// operation failed: m_read_buffer was not modified</span></div>
<div class="line">  {</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// operation succeeded: m_read_buffer contains the parsed XML data</span></div>
<div class="line">  {</div>
<div class="line">}</div>
</div><!-- fragment --> </li>
<li>call <code>read</code> with a callback function that takes the error code and a <code>Connection</code> shared pointer (i.e. a multi-client server application that wants to know which client is speaking): <div class="fragment"><div class="line">connection-&gt;read( m_read_buffer, <span class="comment">// SignalFrame object. Has to live until the end of the read!</span></div>
<div class="line">                  boost::bind( &amp;MyClass::callback_read, <span class="comment">// pointer to callback function</span></div>
<div class="line">                               <span class="keyword">this</span>,                    <span class="comment">// object on which to call the function</span></div>
<div class="line">                               connection,              <span class="comment">// 1st parameter for the callback function</span></div>
<div class="line">                               boost::asio::placeholders::error ) <span class="comment">// placeholder for error code</span></div>
<div class="line">                );</div>
<div class="line"></div>
<div class="line"><span class="comment">// definition of the callback function</span></div>
<div class="line"><span class="keywordtype">void</span> MyClass::callback_read( Connection::Ptr conn, <span class="keyword">const</span> boost::system::error_code error )</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> ( error )</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// operation failed: m_read_buffer was not modified</span></div>
<div class="line">  {</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// operation succeeded: m_read_buffer contains the parse XML data</span></div>
<div class="line">  {</div>
<div class="line">}</div>
</div><!-- fragment --> Similar codes can be applied to <code>send</code> function.</li>
</ul>
<p>The internal socket can be retrieve by calling <code><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#aa198adbcd22fdaf267361584158e461b" title="Gives a reference to the internal socket. ">socket()</a></code>. Developer can set an error handler by calling <code><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a1eba48f2059a142bce8d979edd60cf46">set_error_handler()</a></code>.</p>
<p><br />
</p><dl class="section warning"><dt>Warning</dt><dd>Due to template code, a lot of Boost headers are included by this file, which might increase the compilation time. Please consider only including this file in a limited number of CPP files (typically, one per application is sufficient). </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classcf3_1_1ui_1_1network_1_1_error_handler.html">ErrorHandler</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Quentin Gasper </dd></dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00143">143</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a4bf484818fbf75b79e9754cb75c227fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::shared_ptr&lt;<a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html">TCPConnection</a> const&gt; <a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a4bf484818fbf75b79e9754cb75c227fc">ConstPtr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00150">150</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af149b6cb1c1c79426ff02e8724fab833"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::shared_ptr&lt;<a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html">TCPConnection</a>&gt; <a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#af149b6cb1c1c79426ff02e8724fab833">Ptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00149">149</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a26fcf1e7f9cc14c41c5a63f8be9e5631"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Nameless enum for header length. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a26fcf1e7f9cc14c41c5a63f8be9e5631a1cfd0ca26c2f65e0ff03ae8df9eaf55c"></a>HEADER_LENGTH&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00336">336</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a782c057ba779be7e8c580db462ebe7be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html">TCPConnection</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. Cleanly closes the socket. </p>

<p>Definition at line <a class="el" href="_t_c_p_connection_8cpp_source.html#l00050">50</a> of file <a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2b69e73d1d03be17caf1b15cb2c25ad2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html">TCPConnection</a> </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>io_service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_service</td><td>The I/O service the connection will be based on. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8cpp_source.html#l00040">40</a> of file <a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae7ead9eea230fe37189d50a05d96f2ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void callback_data_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">common::XML::SignalFrame</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::tuple&lt; HANDLER &gt;&#160;</td>
          <td class="paramname"><em>functions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function called when the frame data has been read. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>Describes the error that occured, if any. </td></tr>
    <tr><td class="paramname">conn</td><td>The connection </td></tr>
    <tr><td class="paramname">error</td><td>Error code, if any. </td></tr>
    <tr><td class="paramname">functions</td><td>Callback function </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00285">285</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad2b431a0ec5b0460657312eea0631227"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void callback_header_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">cf3::common::XML::SignalFrame</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::tuple&lt; HANDLER &gt;&#160;</td>
          <td class="paramname"><em>functions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function called when a frame header has been read, successfully or not. This function allocates the frame data buffer depending on the header received. If reading has failed or header is not valid, the callback function is called with appropriate error code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>Describes the error that occured, if any. </td></tr>
    <tr><td class="paramname">conn</td><td>The connection </td></tr>
    <tr><td class="paramname">error</td><td>Error code, if any. </td></tr>
    <tr><td class="paramname">functions</td><td>Callback function </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00244">244</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acb34cfccd5ffcfee142ced26807dc551"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#af149b6cb1c1c79426ff02e8724fab833">TCPConnection::Ptr</a> create </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>ios</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a <code><a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html" title="Manages a TCP/IP connection between two entities where one is a server and the other one is a client...">TCPConnection</a></code> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_service</td><td>The I/O service the new connection will be based on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the created instance as a boost share pointer. </dd></dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8cpp_source.html#l00033">33</a> of file <a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a960705de531a20389fb29928d43258c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disconnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects the socket from the remote entity. </p>

<p>Definition at line <a class="el" href="_t_c_p_connection_8cpp_source.html#l00150">150</a> of file <a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab4ec236b0563cbbbbdb4af2ff3cab0be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void notify_error </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies an error if an error handler has been set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Error message. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8cpp_source.html#l00179">179</a> of file <a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2d82151838e2126cb522036fb3e709cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void parse_frame_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">common::XML::SignalFrame</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses frame data from string to XML. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>Object where the parsed XML will be written. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8cpp_source.html#l00121">121</a> of file <a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acea22a5dc551d623eba5dc29f2af7ffc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void prepare_write_buffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">common::XML::SignalFrame</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; boost::asio::const_buffer &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds the data to be sent on the network. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>XML data. <code>flush_maps()</code> is called before converting to string. </td></tr>
    <tr><td class="paramname">buffer</td><td>Data buffer. First item is the header and second item is the frame data. Vector is cleared before first use. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8cpp_source.html#l00058">58</a> of file <a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae0c20c39aa0d0e7b1595340780c77ec0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void process_header </td>
          <td>(</td>
          <td class="paramtype">boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes a frame header. Tries to cast the header to an <code>unsigned</code> <code>int</code>. On success, allocates the data buffer to this size. </p>

<p>Definition at line <a class="el" href="_t_c_p_connection_8cpp_source.html#l00082">82</a> of file <a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4a84320ea4486ebfb341fabf45202055"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">cf3::common::XML::SignalFrame</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HANDLER&#160;</td>
          <td class="paramname"><em>callback_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiates an asynchronous reading from the remote entity. The function returns directly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>The buffer used to write recieved data. </td></tr>
    <tr><td class="paramname">callback_function</td><td>The callback function to call when asynchronous operation is finished. See this class description for further information about callback functions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Calling code has to garantee that the object referenced by <code>args</code> remains alive until the end of the asynchronous operation. </dd></dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00209">209</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8b8b48d137a0d5768c5860593e2e48a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcf3_1_1common_1_1_x_m_l_1_1_signal_frame.html">cf3::common::XML::SignalFrame</a> &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HANDLER&#160;</td>
          <td class="paramname"><em>callback_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends a message to the remote entity. The message is sent asynchronously and the function returns directly, before the data is actually send. Once the sending is finished, the <code>callback_function</code> is called with error code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The XML data to send. Must be valid. </td></tr>
    <tr><td class="paramname">callback_function</td><td>The callback function to call when asynchronous operation is finished. See this class description for further information about callback functions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>this methods calls <code>flush_maps()</code> on <code>args</code> </li>
<li>the XML data is converted to string and stored in an internal buffer. The calling can the freely reuse the object reference by <code>args</code> derectly after this method returns. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00191">191</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1eba48f2059a142bce8d979edd60cf46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_error_handler </td>
          <td>(</td>
          <td class="paramtype">boost::weak_ptr&lt; <a class="el" href="classcf3_1_1ui_1_1network_1_1_error_handler.html">ErrorHandler</a> &gt;&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets an error handler. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Error handler to set. Can be expired. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8cpp_source.html#l00172">172</a> of file <a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa198adbcd22fdaf267361584158e461b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::ip::tcp::socket&amp; socket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gives a reference to the internal socket. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns a reference to the internal socket. </dd></dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00165">165</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab84b3d013de1b2538476c95d34f36e9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const boost::asio::ip::tcp::socket&amp; socket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gives a constant referemce to the internal socket. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns a constant reference to the internal socket. </dd></dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00172">172</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="abd9951e591c9ef79bbeccec368d34d35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::weak_ptr&lt;<a class="el" href="classcf3_1_1ui_1_1network_1_1_error_handler.html">ErrorHandler</a>&gt; m_error_handler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Weak pointer to the error handler. </p>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00350">350</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a52ced33a38f7a252dcb2cf37b39b2134"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* m_incoming_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receiving buffer. </p><dl class="section warning"><dt>Warning</dt><dd>This buffer does NOT end by '\0'. Its size is given by <code>m_incoming_data_size</code>. </dd></dl>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00347">347</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa5a338f5042bf59595bca0b2342f4e97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int m_incoming_data_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Size of the receiving buffer. </p>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00342">342</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6c22b8b04e1de890aebadd99ae5199d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char m_incoming_header[<a class="el" href="classcf3_1_1ui_1_1network_1_1_t_c_p_connection.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a1cfd0ca26c2f65e0ff03ae8df9eaf55c">HEADER_LENGTH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer the receiving header. </p>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00339">339</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a128754515c459685c4cf66b5f8390162"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string m_outgoing_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer for outgoing data. </p>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00330">330</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6f671296929fff0410ce50180e310aef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string m_outgoing_header</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer for outgoing header. </p>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00333">333</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a249a3b227d7031fef30043778eb64f78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::ip::tcp::socket m_socket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Network socket. </p>

<p>Definition at line <a class="el" href="_t_c_p_connection_8hpp_source.html#l00327">327</a> of file <a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>cf3/ui/network/<a class="el" href="_t_c_p_connection_8hpp_source.html">TCPConnection.hpp</a></li>
<li>cf3/ui/network/<a class="el" href="_t_c_p_connection_8cpp_source.html">TCPConnection.cpp</a></li>
</ul>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 14 2015 21:20:24 for COOLFluiD by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1</small></address>
<table width="100%">
  <tr>
    <td>
    </td>
    <td align="right" valign="center">
      Send comments to:<br>
      <a href="mailto:coolfluid@vki.ac.be">COOLFluiD Web Admin</a>
    </td>
  </tr>
</table>
</body>
</html>
